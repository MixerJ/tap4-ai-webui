# AdSense "å¹¿å‘Šå¯¹è±¡ä¸å­˜åœ¨" å¿«é€Ÿä¿®å¤æŒ‡å—

## âœ… æˆ‘å·²ç»ä¸ºæ‚¨åšçš„ä¼˜åŒ–

### 1. æ”¹è¿›è„šæœ¬åŠ è½½æ–¹å¼
- âœ… å°† AdSense è„šæœ¬ç§»åˆ° `<head>` æ ‡ç­¾ä¸­ï¼ˆä¼˜å…ˆåŠ è½½ï¼‰
- âœ… æ·»åŠ äº†è„šæœ¬åŠ è½½æˆåŠŸ/å¤±è´¥çš„æ—¥å¿—
- âœ… æ·»åŠ äº†ä¸¤ä¸ªè°ƒè¯•é¢æ¿ï¼ˆå·¦ä¸Šè§’å’Œå³ä¸‹è§’ï¼‰

### 2. æ·»åŠ è°ƒè¯•å·¥å…·
- âœ… **å·¦ä¸Šè§’ç»¿è‰²é¢æ¿**ï¼šæ˜¾ç¤ºç¯å¢ƒå˜é‡å’Œè„šæœ¬çŠ¶æ€
- âœ… **å³ä¸‹è§’é»„è‰²é¢æ¿**ï¼šå®Œæ•´è¯Šæ–­ä¿¡æ¯
- âœ… **æ§åˆ¶å°æ—¥å¿—**ï¼šè¯¦ç»†çš„åŠ è½½è¿‡ç¨‹

---

## ğŸš€ ç°åœ¨è¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

### æ­¥éª¤ 1ï¼šé‡å¯å¼€å‘æœåŠ¡å™¨

**é‡è¦ï¼šç¯å¢ƒå˜é‡ä¿®æ”¹åå¿…é¡»é‡å¯ï¼**

```bash
# åœæ­¢å½“å‰æœåŠ¡å™¨ (Ctrl+C æˆ– Cmd+C)
npm run dev
```

### æ­¥éª¤ 2ï¼šæ£€æŸ¥ .env.local æ–‡ä»¶

**ç¡®ä¿æ–‡ä»¶å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®ï¼š**

```bash
# æŸ¥çœ‹æ–‡ä»¶å†…å®¹
cat .env.local
```

**åº”è¯¥çœ‹åˆ°ï¼ˆæ³¨æ„ï¼šå¿…é¡»ä»¥ NEXT_PUBLIC_ å¼€å¤´ï¼‰ï¼š**

```bash
NEXT_PUBLIC_ADSENSE_ENABLED=true
NEXT_PUBLIC_ADSENSE_CLIENT_ID=ca-pub-1234567890123456
```

**å¸¸è§é”™è¯¯ï¼š**
- âŒ å˜é‡åé”™è¯¯ï¼ˆç¼ºå°‘ `NEXT_PUBLIC_` å‰ç¼€ï¼‰
- âŒ å®¢æˆ·ç«¯ ID æ ¼å¼é”™è¯¯ï¼ˆå¿…é¡»æ˜¯ `ca-pub-` å¼€å¤´ï¼‰
- âŒ æœ‰å¤šä½™çš„ç©ºæ ¼æˆ–å¼•å·
- âŒ ç­‰å·ä¸¤è¾¹æœ‰ç©ºæ ¼
- âŒ ä½¿ç”¨äº† `.env` è€Œä¸æ˜¯ `.env.local`

**å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒï¼š**

```bash
# åˆ›å»ºæ–‡ä»¶
cat > .env.local << 'EOF'
NEXT_PUBLIC_ADSENSE_ENABLED=true
NEXT_PUBLIC_ADSENSE_CLIENT_ID=ca-pub-YOUR_CLIENT_ID_HERE
EOF
```

**æ›¿æ¢ `YOUR_CLIENT_ID_HERE` ä¸ºæ‚¨çš„çœŸå®å®¢æˆ·ç«¯ IDï¼**

### æ­¥éª¤ 3ï¼šæŸ¥çœ‹è°ƒè¯•é¢æ¿

é‡å¯åï¼Œè®¿é—® `http://localhost:3000`

**æ‚¨ä¼šçœ‹åˆ°ä¸¤ä¸ªè°ƒè¯•é¢æ¿ï¼š**

1. **å·¦ä¸Šè§’ç»¿è‰²é¢æ¿** ğŸ› AdSense è°ƒè¯•
   ```
   ADSENSE_ENABLED: true
   ADSENSE_CLIENT_ID: ca-pub-1234567890...
   è„šæœ¬çŠ¶æ€: âœ… å·²åŠ è½½ æˆ– âŒ æœªåŠ è½½
   å¹¿å‘Šå…ƒç´ : 1 ä¸ª
   ```

2. **å³ä¸‹è§’é»„è‰²é¢æ¿** ğŸ” AdSense è¯Šæ–­
   ```
   ç¯å¢ƒå˜é‡: âœ…
   è„šæœ¬åŠ è½½: âœ…
   å¹¿å‘Šå¯¹è±¡: âœ…
   å¹¿å‘Šå…ƒç´ : 1 ä¸ª
   ç”¨æˆ·åŒæ„: âš ï¸
   ```

### æ­¥éª¤ 4ï¼šæ£€æŸ¥æ§åˆ¶å°

æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼Œåº”è¯¥çœ‹åˆ°ï¼š

```
âœ… AdSense è„šæœ¬åŠ è½½æˆåŠŸ
window.adsbygoogle: [Array]
```

**å¦‚æœçœ‹åˆ°é”™è¯¯ï¼š**
```
âŒ AdSense è„šæœ¬åŠ è½½å¤±è´¥: Error...
```

è¯´æ˜è„šæœ¬åŠ è½½è¢«æ‹¦æˆªæˆ–ç½‘ç»œé—®é¢˜ã€‚

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šç¯å¢ƒå˜é‡æ˜¾ç¤º"æœªè®¾ç½®"

**åŸå› ï¼š** ç¯å¢ƒå˜é‡é…ç½®é”™è¯¯æˆ–æœªé‡å¯æœåŠ¡å™¨

**è§£å†³æ–¹æ¡ˆï¼š**

1. æ£€æŸ¥ `.env.local` æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥å˜é‡åæ˜¯å¦ä»¥ `NEXT_PUBLIC_` å¼€å¤´
3. **é‡å¯å¼€å‘æœåŠ¡å™¨**ï¼ˆè¿™æ˜¯æœ€é‡è¦çš„ï¼ï¼‰

```bash
# åœæ­¢æœåŠ¡å™¨
Ctrl+C æˆ– Cmd+C

# é‡æ–°å¯åŠ¨
npm run dev
```

### é—®é¢˜ 2ï¼šè„šæœ¬çŠ¶æ€æ˜¾ç¤º"âŒ æœªåŠ è½½"

**å¯èƒ½åŸå› ï¼š**

#### A. å¹¿å‘Šæ‹¦æˆªå™¨

**æ£€æŸ¥ï¼š**
- æµè§ˆå™¨æ‰©å±•ï¼ˆAdBlock, uBlock Origin, etc.ï¼‰
- Brave æµè§ˆå™¨å†…ç½®æ‹¦æˆªå™¨

**è§£å†³ï¼š**
1. ä¸´æ—¶ç¦ç”¨å¹¿å‘Šæ‹¦æˆªå™¨
2. æˆ–ä½¿ç”¨æ— ç—•/éšç§æ¨¡å¼
3. æˆ–å°† localhost æ·»åŠ åˆ°ç™½åå•

#### B. ç½‘ç»œé—®é¢˜

**æ£€æŸ¥ï¼š**
```bash
# æµ‹è¯•èƒ½å¦è®¿é—® Google
curl https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js

# å¦‚æœå¤±è´¥ï¼Œå¯èƒ½æ˜¯é˜²ç«å¢™æˆ– VPN é—®é¢˜
```

#### C. DNS é—®é¢˜

**è§£å†³ï¼š**
```bash
# åˆ·æ–° DNS ç¼“å­˜
# macOS:
sudo dscacheutil -flushcache; sudo killall -HUP mDNSResponder

# Windows:
ipconfig /flushdns
```

### é—®é¢˜ 3ï¼šè„šæœ¬å·²åŠ è½½ä½†å¹¿å‘Šä¸æ˜¾ç¤º

**å¯èƒ½åŸå› ï¼š**

#### A. ç”¨æˆ·æœªåŒæ„å¹¿å‘Š Cookie

**è§£å†³ï¼š**
1. æ¸…é™¤ localStorage: åœ¨æ§åˆ¶å°è¿è¡Œ `localStorage.clear()`
2. åˆ·æ–°é¡µé¢
3. ç‚¹å‡»åŒæ„æ¨ªå¹…çš„"æ¥å—å…¨éƒ¨"
4. å†æ¬¡åˆ·æ–°

#### B. å¹¿å‘Šå•å…ƒ ID é”™è¯¯

**æ£€æŸ¥ï¼š**
```javascript
// æ§åˆ¶å°è¿è¡Œ
document.querySelectorAll('ins.adsbygoogle').forEach(ad => {
  console.log('Ad Slot:', ad.getAttribute('data-ad-slot'));
});
```

ç¡®è®¤ `data-ad-slot` æ˜¯æ­£ç¡®çš„10ä½æ•°å­—ã€‚

#### C. AdSense è´¦å·å®¡æ ¸ä¸­

**æ£€æŸ¥ï¼š**
1. ç™»å½• [Google AdSense](https://www.google.com/adsense/)
2. æŸ¥çœ‹è´¦å·çŠ¶æ€
3. å®¡æ ¸æœŸé—´ï¼ˆ1-7å¤©ï¼‰å¯èƒ½ä¸æ˜¾ç¤ºå¹¿å‘Š

---

## ğŸ“‹ å®Œæ•´æ£€æŸ¥æ¸…å•

æŒ‰é¡ºåºæ‰§è¡Œï¼š

- [ ] 1. `.env.local` æ–‡ä»¶å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®
- [ ] 2. å˜é‡åä»¥ `NEXT_PUBLIC_` å¼€å¤´
- [ ] 3. å®¢æˆ·ç«¯ ID æ ¼å¼ä¸º `ca-pub-` å¼€å¤´
- [ ] 4. å·²é‡å¯å¼€å‘æœåŠ¡å™¨
- [ ] 5. å·¦ä¸Šè§’ç»¿è‰²é¢æ¿æ˜¾ç¤ºæ­£ç¡®çš„é…ç½®
- [ ] 6. æ§åˆ¶å°æ˜¾ç¤º"âœ… AdSense è„šæœ¬åŠ è½½æˆåŠŸ"
- [ ] 7. ç¦ç”¨äº†å¹¿å‘Šæ‹¦æˆªå™¨
- [ ] 8. å·²åŒæ„å¹¿å‘Š Cookieï¼ˆç‚¹å‡»"æ¥å—å…¨éƒ¨"ï¼‰
- [ ] 9. å¹¿å‘Šå•å…ƒ ID æ­£ç¡®
- [ ] 10. AdSense è´¦å·å·²é€šè¿‡å®¡æ ¸

---

## ğŸ’¡ å¿«é€Ÿæµ‹è¯•å‘½ä»¤

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```javascript
// 1. æ£€æŸ¥ç¯å¢ƒå˜é‡
console.log({
  enabled: process.env.NEXT_PUBLIC_ADSENSE_ENABLED,
  clientId: process.env.NEXT_PUBLIC_ADSENSE_CLIENT_ID
});

// 2. æ£€æŸ¥è„šæœ¬åŠ è½½
console.log('è„šæœ¬åŠ è½½:', !!window.adsbygoogle);

// 3. æ£€æŸ¥å¹¿å‘Šå…ƒç´ 
console.log('å¹¿å‘Šæ•°é‡:', document.querySelectorAll('ins.adsbygoogle').length);

// 4. æ£€æŸ¥åŒæ„çŠ¶æ€
const consent = JSON.parse(localStorage.getItem('user_consent_preferences') || '{}');
console.log('å¹¿å‘ŠåŒæ„:', consent?.preferences?.advertising);

// 5. æŸ¥çœ‹å¹¿å‘Šè¯¦æƒ…
document.querySelectorAll('ins.adsbygoogle').forEach((ad, i) => {
  console.log(`å¹¿å‘Š #${i + 1}:`, {
    client: ad.getAttribute('data-ad-client'),
    slot: ad.getAttribute('data-ad-slot'),
    status: ad.getAttribute('data-ad-status')
  });
});
```

---

## â“ è¿˜æ˜¯ä¸è¡Œï¼Ÿ

å¦‚æœæŒ‰ç…§ä¸Šè¿°æ­¥éª¤ä»ç„¶ä¸è¡Œï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **å·¦ä¸Šè§’ç»¿è‰²é¢æ¿çš„æˆªå›¾**
2. **æ§åˆ¶å°çš„å®Œæ•´è¾“å‡º**ï¼ˆç‰¹åˆ«æ˜¯é”™è¯¯ä¿¡æ¯ï¼‰
3. **Network é¢æ¿çš„ adsbygoogle.js è¯·æ±‚çŠ¶æ€**
4. **æ‚¨çš„ AdSense è´¦å·çŠ¶æ€**ï¼ˆå®¡æ ¸ä¸­/å·²é€šè¿‡/è¢«æ‹’ç»ï¼‰

---

æœ€åæ›´æ–°ï¼š2025-11-03

